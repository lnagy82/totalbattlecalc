"use strict";(self.webpackChunktotalbattlecalc=self.webpackChunktotalbattlecalc||[]).push([[39],{3039:(T,h,o)=>{o.r(h),o.d(h,{LogsModule:()=>b});var _=o(805),u=o(1382);class d{constructor(g,e){this.name=g,this.level=e}}var t=o(2741),r=o(1887),x=o(8986);let L=(()=>{class n{constructor(e,i){this.http=e,this.applicationConfigService=i}changeLevel(e,i){return this.http.post(this.applicationConfigService.getEndpointFor(`management/loggers/${e}`),{configuredLevel:i})}findAll(){return this.http.get(this.applicationConfigService.getEndpointFor("management/loggers"))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(r.eN),t.LFG(x.y))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var l=o(6274),p=o(4243),s=o(3324),C=o(6059),f=o(9044),v=o(4477);function U(n,g){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t._uU(1,"\n      "),t.TgZ(2,"td"),t._uU(3,"\n        "),t.TgZ(4,"small"),t._uU(5),t.ALo(6,"slice"),t.qZA(),t._uU(7,"\n      "),t.qZA(),t._uU(8,"\n      "),t.TgZ(9,"td"),t._uU(10,"\n        "),t.TgZ(11,"button",14),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw(2).changeLevel(c.name,"TRACE")}),t._uU(12,"\n          TRACE\n        "),t.qZA(),t._uU(13,"\n\n        "),t.TgZ(14,"button",14),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw(2).changeLevel(c.name,"DEBUG")}),t._uU(15,"\n          DEBUG\n        "),t.qZA(),t._uU(16,"\n\n        "),t.TgZ(17,"button",14),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw(2).changeLevel(c.name,"INFO")}),t._uU(18,"\n          INFO\n        "),t.qZA(),t._uU(19,"\n\n        "),t.TgZ(20,"button",14),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw(2).changeLevel(c.name,"WARN")}),t._uU(21,"\n          WARN\n        "),t.qZA(),t._uU(22,"\n\n        "),t.TgZ(23,"button",14),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw(2).changeLevel(c.name,"ERROR")}),t._uU(24,"\n          ERROR\n        "),t.qZA(),t._uU(25,"\n\n        "),t.TgZ(26,"button",14),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw(2).changeLevel(c.name,"OFF")}),t._uU(27,"\n          OFF\n        "),t.qZA(),t._uU(28,"\n      "),t.qZA(),t._uU(29,"\n    "),t.qZA()}if(2&n){const e=g.$implicit;t.xp6(5),t.Oqu(t.Dn7(6,7,e.name,0,140)),t.xp6(6),t.Q6J("ngClass","TRACE"===e.level?"btn-primary":"btn-light"),t.xp6(3),t.Q6J("ngClass","DEBUG"===e.level?"btn-success":"btn-light"),t.xp6(3),t.Q6J("ngClass","INFO"===e.level?"btn-info":"btn-light"),t.xp6(3),t.Q6J("ngClass","WARN"===e.level?"btn-warning":"btn-light"),t.xp6(3),t.Q6J("ngClass","ERROR"===e.level?"btn-danger":"btn-light"),t.xp6(3),t.Q6J("ngClass","OFF"===e.level?"btn-secondary":"btn-light")}}const A=function(n){return{total:n}};function Z(n,g){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t._uU(1,"\n  "),t.TgZ(2,"h2",2),t._uU(3,"Logs"),t.qZA(),t._uU(4,"\n\n  "),t.TgZ(5,"p",3),t._uU(6),t.qZA(),t._uU(7,"\n\n  "),t.TgZ(8,"span",4),t._uU(9,"Filter"),t.qZA(),t._uU(10,"\n  "),t.TgZ(11,"input",5),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().filter=a})("ngModelChange",function(){return t.CHM(e),t.oxw().filterAndSort()}),t.qZA(),t._uU(12,"\n\n  "),t.TgZ(13,"table",6),t._uU(14,"\n    "),t.TgZ(15,"thead"),t._uU(16,"\n      "),t.TgZ(17,"tr",7),t.NdJ("predicateChange",function(a){return t.CHM(e),t.oxw().orderProp=a})("ascendingChange",function(a){return t.CHM(e),t.oxw().ascending=a})("sortChange",function(){return t.CHM(e),t.oxw().filterAndSort()}),t._uU(18,"\n        "),t.TgZ(19,"th",8),t.TgZ(20,"span",9),t._uU(21,"Name"),t.qZA(),t._uU(22," "),t._UZ(23,"fa-icon",10),t.qZA(),t._uU(24,"\n        "),t.TgZ(25,"th",11),t.TgZ(26,"span",12),t._uU(27,"Level"),t.qZA(),t._uU(28," "),t._UZ(29,"fa-icon",10),t.qZA(),t._uU(30,"\n      "),t.qZA(),t._uU(31,"\n    "),t.qZA(),t._uU(32,"\n\n    "),t.YNc(33,U,30,11,"tr",13),t._uU(34,"\n  "),t.qZA(),t._uU(35,"\n"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("translateValues",t.VKq(6,A,e.loggers.length)),t.xp6(1),t.hij("There are ",e.loggers.length," loggers."),t.xp6(5),t.Q6J("ngModel",e.filter),t.xp6(6),t.Q6J("predicate",e.orderProp)("ascending",e.ascending),t.xp6(16),t.Q6J("ngForOf",e.filteredAndOrderedLoggers)}}const M={path:"",component:(()=>{class n{constructor(e){this.logsService=e,this.filter="",this.orderProp="name",this.ascending=!0}ngOnInit(){this.findAndExtractLoggers()}changeLevel(e,i){this.logsService.changeLevel(e,i).subscribe(()=>this.findAndExtractLoggers())}filterAndSort(){this.filteredAndOrderedLoggers=this.loggers.filter(e=>!this.filter||e.name.toLowerCase().includes(this.filter.toLowerCase())).sort((e,i)=>e[this.orderProp]<i[this.orderProp]?this.ascending?-1:1:e[this.orderProp]>i[this.orderProp]?this.ascending?1:-1:"level"===this.orderProp?e.name<i.name?-1:1:0)}findAndExtractLoggers(){this.logsService.findAll().subscribe(e=>{this.loggers=Object.entries(e.loggers).map(([i,a])=>new d(i,a.effectiveLevel)),this.filterAndSort()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(L))},n.\u0275cmp=t.Xpm({type:n,selectors:[["jhi-logs"]],decls:2,vars:1,consts:[["class","table-responsive",4,"ngIf"],[1,"table-responsive"],["id","logs-page-heading","jhiTranslate","logs.title","data-cy","logsPageHeading"],["jhiTranslate","logs.nbloggers",3,"translateValues"],["jhiTranslate","logs.filter"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["aria-describedby","logs-page-heading",1,"table","table-sm","table-striped","table-bordered"],["jhiSort","",3,"predicate","ascending","predicateChange","ascendingChange","sortChange"],["jhiSortBy","name","scope","col"],["jhiTranslate","logs.table.name"],["icon","sort"],["jhiSortBy","level","scope","col"],["jhiTranslate","logs.table.level"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm",3,"ngClass","click"]],template:function(e,i){1&e&&(t.YNc(0,Z,36,8,"div",0),t._uU(1,"\n")),2&e&&t.Q6J("ngIf",i.loggers)},directives:[l.O5,p.P,s.Fj,s.JJ,s.On,C.b,f.T,v.BN,l.sg,l.mk],pipes:[l.OU],encapsulation:2}),n})(),data:{pageTitle:"logs.title"}};let b=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.m,_.Bz.forChild([M])]]}),n})()},9044:(T,h,o)=>{o.d(h,{T:()=>L});var _=o(6006),u=o(7194),d=o(4477),t=o(8036),r=o(2741),x=o(6059);let L=(()=>{class l{constructor(s){this.sort=s,this.sortIcon=t.CmM,this.sortAscIcon=t.foy,this.sortDescIcon=t.u9C,this.destroy$=new _.xQ,s.predicateChange.pipe((0,u.R)(this.destroy$)).subscribe(()=>this.updateIconDefinition()),s.ascendingChange.pipe((0,u.R)(this.destroy$)).subscribe(()=>this.updateIconDefinition())}onClick(){this.iconComponent&&this.sort.sort(this.jhiSortBy)}ngAfterContentInit(){this.updateIconDefinition()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIconDefinition(){if(this.iconComponent){let s=this.sortIcon;this.sort.predicate===this.jhiSortBy&&(s=this.sort.ascending?this.sortAscIcon:this.sortDescIcon),this.iconComponent.icon=s.iconName,this.iconComponent.render()}}}return l.\u0275fac=function(s){return new(s||l)(r.Y36(x.b,1))},l.\u0275dir=r.lG2({type:l,selectors:[["","jhiSortBy",""]],contentQueries:function(s,C,f){if(1&s&&r.Suo(f,d.BN,5),2&s){let v;r.iGM(v=r.CRH())&&(C.iconComponent=v.first)}},hostBindings:function(s,C){1&s&&r.NdJ("click",function(){return C.onClick()})},inputs:{jhiSortBy:"jhiSortBy"}}),l})()},6059:(T,h,o)=>{o.d(h,{b:()=>u});var _=o(2741);let u=(()=>{class d{constructor(){this.predicateChange=new _.vpe,this.ascendingChange=new _.vpe,this.sortChange=new _.vpe}get predicate(){return this._predicate}set predicate(r){this._predicate=r,this.predicateChange.emit(r)}get ascending(){return this._ascending}set ascending(r){this._ascending=r,this.ascendingChange.emit(r)}sort(r){this.ascending=r!==this.predicate||!this.ascending,this.predicate=r,this.predicateChange.emit(r),this.ascendingChange.emit(this.ascending),this.sortChange.emit({predicate:this.predicate,ascending:this.ascending})}}return d.\u0275fac=function(r){return new(r||d)},d.\u0275dir=_.lG2({type:d,selectors:[["","jhiSort",""]],inputs:{predicate:"predicate",ascending:"ascending"},outputs:{predicateChange:"predicateChange",ascendingChange:"ascendingChange",sortChange:"sortChange"}}),d})()}}]);